<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>學習資源總整理</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  overflow: hidden;
  font-family: "Microsoft JhengHei", sans-serif;
  background: radial-gradient(circle at center, #0b0f1a 0%, #000 100%);
  color: #fff;
}

/* 標題 */
header {
  position: absolute;
  top: 3%;
  left: 50%;
  transform: translateX(-50%);
  color: #00e5ff;
  font-size: clamp(26px, 4vw, 48px);
  letter-spacing: 2px;
}

/* 左側主題欄 */
.sidebar {
  position: absolute;
  top: 12%;
  left: 4%;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  z-index: 10;
}

.sidebar h2 {
  cursor: pointer;
  font-size: clamp(18px, 2vw, 28px);
  color: #ccc;
  background: rgba(255,255,255,0.05);
  padding: 0.8rem 1rem;
  border-radius: 10px;
  transition: all 0.3s ease;
}

.sidebar h2:hover, .sidebar h2.active {
  color: #00e5ff;
  background: rgba(0,229,255,0.15);
}

/* 節點 */
.node {
  position: absolute;
  background: rgba(255,255,255,0.1);
  color: #00e5ff;
  padding: 1rem 1.5rem;
  border-radius: 10px;
  text-align: center;
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.5s ease;
  font-size: clamp(16px, 2vw, 22px);
  z-index: 5;
}

.node.active {
  opacity: 1;
  transform: scale(1);
  box-shadow: 0 0 20px rgba(0,229,255,0.4);
}

.node a {
  color: #00e5ff;
  text-decoration: none;
}

.node a:hover {
  text-decoration: underline;
}

/* SVG 線條層 */
svg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none; /* 點擊不擋連結 */
}

/* 線條樣式與動畫 */
.path-line {
  stroke: url(#gradLine);
  stroke-width: 2.5;
  fill: none;
  stroke-dasharray: 6 10;
  animation: flow 2s linear infinite;
}

@keyframes flow {
  to {
    stroke-dashoffset: -16;
  }
}

/* 版權 */
footer {
  position: absolute;
  bottom: 2%;
  left: 50%;
  transform: translateX(-50%);
  color: #888;
  font-size: clamp(14px, 2vw, 18px);
}
</style>
</head>
<body>

<header>學習資源總整理</header>

<div class="sidebar">
  <h2 data-topic="kxv">康軒國語</h2>
  <h2 data-topic="eng">英文學習</h2>
  <h2 data-topic="math">數學學習</h2>
  <h2 data-topic="bpmf">注音學習</h2>
  <h2 data-topic="jp">日文學習</h2>
  <h2 data-topic="game">圍棋小遊戲</h2>
</div>

<!-- SVG 畫線 -->
<svg id="lines">
  <defs>
    <!-- 閃光漸層 -->
    <linearGradient id="gradLine" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#00e5ff" stop-opacity="0.2" />
      <stop offset="50%" stop-color="#00e5ff" stop-opacity="1" />
      <stop offset="100%" stop-color="#00e5ff" stop-opacity="0.2" />
    </linearGradient>
  </defs>
</svg>

<footer>@2025 guaelves. All rights reserved.</footer>

<script>
/* 主題與連結資料 */
const topics = {
  kxv: [
    { text: "康軒小一首冊注音", url: "https://guaelves.github.io/KXV/KXV0/" }
  ],
  eng: [
    { text: "220 Sight Words", url: "https://guaelves.github.io/LearnEng/220sightwords/" },
    { text: "CVC 練習", url: "https://guaelves.github.io/LearnEng/CVC/" }
  ],
  math: [
    { text: "九九乘法表", url: "https://guaelves.github.io/Math/9981/" },
    { text: "10以內的加法", url: "https://guaelves.github.io/Math/10+" },
    { text: "10以內的減法", url: "https://guaelves.github.io/Math/10-" }
  ],
  bpmf: [
    { text: "注音符號", url: "https://guaelves.github.io/Bopomofo/bopomofo.html" },
    { text: "注音好朋友", url: "https://guaelves.github.io/Bopomofo/friendsgroup/" },
    { text: "注音好朋友2", url: "https://guaelves.github.io/Bopomofo/friendsgroup2/" }
  ],
  jp: [
    { text: "日文五十音", url: "https://guaelves.github.io/Japanese/50/" }
  ],
  game: [
    { text: "圍棋Go", url: "https://guaelves.github.io/Game/goai.html" }
  ]
};

const svg = document.getElementById("lines");
const sidebar = document.querySelector(".sidebar");

/* 清除舊節點與線條 */
function clearGraph() {
  document.querySelectorAll(".node").forEach(n => n.remove());
  svg.querySelectorAll("path").forEach(p => p.remove());
  document.querySelectorAll(".sidebar h2").forEach(h => h.classList.remove("active"));
}

/* 主題點擊事件 */
sidebar.querySelectorAll("h2").forEach(h2 => {
  h2.addEventListener("click", () => {
    clearGraph();
    h2.classList.add("active");

    const topic = topics[h2.dataset.topic];
    if (!topic) return;

    const rect = h2.getBoundingClientRect();
    const svgRect = svg.getBoundingClientRect();
    const startX = rect.right - svgRect.left;
    const startY = rect.top + rect.height / 2 - svgRect.top;

    // 根據螢幕寬度動態調整節點距離
    const screenW = window.innerWidth;
    const baseX = screenW * 0.45; // 節點不會太右
    const baseY = window.innerHeight / 3;
    const spacing = Math.min(120, window.innerHeight / 6);

    topic.forEach((item, i) => {
      const nodeX = baseX;
      const nodeY = baseY + i * spacing;

      // 建立節點
      const node = document.createElement("div");
      node.classList.add("node");
      node.style.left = `${nodeX}px`;
      node.style.top = `${nodeY}px`;
      node.innerHTML = `<a href="${item.url}" target="_blank" rel="noopener noreferrer">${item.text}</a>`;
      document.body.appendChild(node);

      setTimeout(() => node.classList.add("active"), 100 + i * 150);

      // L 型線條
      const midX = (startX + nodeX) / 2;
      const pathData = `M${startX},${startY} L${midX},${startY} L${midX},${nodeY} L${nodeX},${nodeY}`;
      const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
      path.setAttribute("d", pathData);
      path.setAttribute("class", "path-line");
      svg.appendChild(path);
    });
  });
});
</script>

</body>
</html>
